# Чат-бот Вконтакте «VKinder» 

Разработка программы-бота для взаимодействия с базами данных социальной сети. Бот предлагает различные варианты людей для знакомств в социальной сети Вконтакте в виде диалога с пользователем.

- [x] Поиск людей ведется по критериям: пол, возраст, город.
- [x] У подошедших выбираются самые популярные фотографии.
- [x] Информация в чате выводится в формате:
```text
Имя Фамилия
Ссылка на профиль
Три фотографии в виде attachment
```
- [x] Управление осуществляется с помощью кнопок.
- [x] Существует возможность добавлять в список избранных.
- [x] Возможен просмотр избранных людей.

## Используемые библиотеки и СУБД

- vk_api
- SQLAlchemy
- PostgreSQL

## Настройка БД

Для корректной работы программы вам необходимо установить PostgreSQL на свой компьютер. Для настройки базы данных используйте следующие команды

```bash
psql -U postres

create database <db_name>;

create user <user_name> with password <password>;

alter database <db_name> owner to <user_name>;
```
## Токены

### Токен группы
Необходимо создать группа во Вконтакте, от имени которой будет общаться бот. Инструкцию по настройке и получению токена можно посмотреть [здесь](https://github.com/netology-code/adpy-team-diplom/blob/main/group_settings.md).

### Токен пользователя
Для получения токена можно воспользоваться [ссылкой](https://api.vk.com/oauth%C2%AD/token?grant_type=password%E2%80%8B&client_id=2274003%E2%80%8B&client_secret=hHbZxrka2uZ6jB1inYsH%E2%80%8B&username=НОМЕРТЕЛФОНА%E2%80%8B&password=ПАРОЛЬ). Вместо ***username*** необходимо вставить номер телефона, ***password*** необходимо вставить пароль.

## Структура БД
| Пользователь                 |
| -----------------------------|
| ID Пользователя: Serial, PK  |
| ВК ID Пользователя: Varchar  |
| Возраст: Integer             |
| Пол: Integer                 |
| Город: Varchar               |

| Кандидат                     |
| -----------------------------|
| ID Кандидата: Serial, PK     |
| Имя: Varchar                 |
| Фамилия: Varchar             | 
| ВК ID: Varchar               | 

| Фотографии                                      |
| ------------------------------------------------|
| ID Фотографии: Serial, PK                       |
| ID Кандидата: Integer, FK(Кандидат.ID Кандидата)|
| ВК ID Фотографии: Varchar                       | 
| Количество лайков: Integer                      | 

| Пользователь-Кандидат                                     |
| ----------------------------------------------------------|
| ID Кандидата: Integer, FK(Кандидат.ID Кандидата)          |
| ID Пользователя: Integer, FK(Пользователь.ID Пользователя)|

## Установка и запуск проекта
Используйте следующие команды для установки и запуска проекта:

 - клонирование проекта:
```bash
git clone https://github.com/Ksenia-Mesh/Course_project-VK_bot.git
```
 - Установка и активация виртуального окружения:
 ```bash
python -m venv venv
.\venv\Scripts\activate
```
 - Подключение зависимостей:
```bash
pip install -r requirements.txt
```

В файле *main.py* заполните **USERNAME**, **PASSWORD**, **PORT**, **DATABASE**.
В файле interaction_with_vk\settings.py заполните **token_group**, **access_token**.

Запустите файл *main.py*.

Для начала работы с ботом напишите в чате "Привет".

Удачи!!!
